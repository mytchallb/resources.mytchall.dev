import{v as T}from"./runtime-dom.esm-bundler.DM3zk2f-.js";import{s as D}from"./utils.-yB8Vte5.js";import{_ as L}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{c as u,f as l,b as I,a as s,t as v,F as x,r as b,w as Q,n as j,i as w,e as B,j as N,o as k,h as E,k as P}from"./runtime-core.esm-bundler.Bz9QO-V2.js";import{u as _,g as C,h as S,i as $,j as z,k as O,r as U,l as A,e as M,b as F}from"./methods.CB-pwtro.js";/* empty css                       */const Z={__name:"ResourceCard",props:["resource"],setup(f,{expose:a}){a();const t=f,r=w(()=>{let n=[];return t.resource.data.url&&n.push({text:D(t.resource.data.url),type:"url"}),t.resource.data.pricing&&n.push({text:t.resource.data.pricing,type:"pricing"}),t.resource.data.cost&&n.push({text:t.resource.data.cost,type:"cost"}),[...t.resource.data.tags].sort().forEach((d,m)=>{d&&n.push({text:d,type:"tag",index:m})}),n}),i={props:t,tags:r,computed:w,get simpleUrl(){return D}};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}},V={class:"relative"},q={key:0,class:"bg-background/85 border border-secondary shadow-md rounded-md overflow-hidden h-full"},G=["href"],H=["src","alt"],J={class:"flex gap-2 flex-col p-4"},K={class:"text-lg font-bold text-copy"},W={class:"overflow-x-auto scrollbar-hide"},X={class:"flex flex-col gap-1"},Y={class:"flex gap-1"},ee={class:"flex gap-1"},te={class:"text-sm overflow-hidden text-ellipsis line-clamp-4 text-copy"};function re(f,a,t,r,i,n){return l(),u("div",V,[t.resource?(l(),u("div",q,[s("a",{href:"/resources/"+t.resource.slug},[s("img",{src:t.resource.data.images[0],alt:t.resource.data.title,class:"w-full aspect-video object-cover shadow-md"},null,8,H)],8,G),s("div",J,[s("h2",K,v(t.resource.data.title),1),s("div",W,[s("div",X,[s("div",Y,[(l(!0),u(x,null,b(r.tags,(e,d)=>Q((l(),u("span",{key:e.text,class:j(`inline-flex w-fit tag ${e.type} whitespace-nowrap`)},v(e.text),3)),[[T,d%2===0]])),128))]),s("div",ee,[(l(!0),u(x,null,b(r.tags,(e,d)=>Q((l(),u("span",{key:e.text,class:j(`inline-flex w-fit tag ${e.type} whitespace-nowrap`)},v(e.text),3)),[[T,d%2===1]])),128))])])]),s("p",te,v(t.resource.data.excerpt),1)])])):I("",!0)])}const se=L(Z,[["render",re]]),ae={__name:"InnerNav",props:["tags"],setup(f,{expose:a}){a();const t=_(C),r=_(S),i=B(null);N(t,g=>{O(g)}),N(r,g=>{z(g)});const n=f,e=B([{value:"category-asc",label:"Category (A-Z)"},{value:"category-desc",label:"Category (Z-A)"},{value:"new-old",label:"Date (Newest)"},{value:"old-new",label:"Date (Oldest)"},{value:"a-z",label:"Name (A-Z)"},{value:"z-a",label:"Name (Z-A)"}]),d=()=>{console.log("toggleSidebar"),$.set(!$.get())};k(()=>{window.addEventListener("keydown",g=>{g.key==="/"&&(g.preventDefault(),i.value.focus())})});const m={$searchQuery:t,$sortBy:r,searchInput:i,props:n,sortOptions:e,toggleSidebar:d,ref:B,onMounted:k,watch:N,get resetFilters(){return U},get searchQuery(){return C},get sortBy(){return S},get setSearchQuery(){return O},get setSortBy(){return z},get useStore(){return _},get isSidebarOpen(){return $}};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}},oe={class:"flex gap-2 justify-between items-center w-full py-1 px-2"},ce={class:"flex items-center gap-2"},ne={class:"flex items-center gap-2 flex-shrink-0"},le=["value"],ue=["value"],ie=["value"];function de(f,a,t,r,i,n){return l(),u("div",oe,[s("div",ce,[s("button",{class:"cursor-pointer lg:hidden",onClick:r.toggleSidebar},a[3]||(a[3]=[s("svg",{class:"flex-shrink-0 w-7 h-7 text-copy stroke-secondary",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 6h16M4 12h16M4 18h16"})],-1)])),s("div",{onClick:a[0]||(a[0]=(...e)=>r.resetFilters&&r.resetFilters(...e)),class:"h-full aspect-square p-2 cursor-pointer"},a[4]||(a[4]=[s("svg",{class:"fill-secondary w-6 h-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[s("path",{d:"M105.1 202.6c7.7-21.8 20.2-42.3 37.8-59.8c62.5-62.5 163.8-62.5 226.3 0L386.3 160 352 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l111.5 0c0 0 0 0 0 0l.4 0c17.7 0 32-14.3 32-32l0-112c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 35.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5zM39 289.3c-5 1.5-9.8 4.2-13.7 8.2c-4 4-6.7 8.8-8.1 14c-.3 1.2-.6 2.5-.8 3.8c-.3 1.7-.4 3.4-.4 5.1L16 432c0 17.7 14.3 32 32 32s32-14.3 32-32l0-35.1 17.6 17.5c0 0 0 0 0 0c87.5 87.4 229.3 87.4 316.7 0c24.4-24.4 42.1-53.1 52.9-83.8c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.5 62.5-163.8 62.5-226.3 0l-.1-.1L125.6 352l34.4 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L48.4 288c-1.6 0-3.2 .1-4.8 .3s-3.1 .5-4.6 1z"})],-1)]))]),s("div",ne,[s("select",{class:"bg-background h-full text-copy border-2 border-primary rounded-md p-2 appearance-none",value:r.$sortBy,onChange:a[1]||(a[1]=e=>r.sortBy.set(e.target.value)),style:{height:"100%","-webkit-appearance":"none"}},[(l(!0),u(x,null,b(r.sortOptions,e=>(l(),u("option",{key:e.value,value:e.value},v(e.label),9,ue))),128))],40,le),s("input",{ref:"searchInput",type:"text",value:r.$searchQuery,onInput:a[2]||(a[2]=e=>{r.searchQuery.set(e.target.value)}),class:"bg-background h-full min-w-20 w-full max-w-30 text-copy border-2 border-primary rounded-md p-2 appearance-none",placeholder:"Search '/'"},null,40,ie)])])}const pe=L(ae,[["render",de]]),ge={__name:"ResourceList",props:["resources","categories","tags"],setup(f,{expose:a}){a();const t=f,r=_(F),i=_(S),n=_(M),e=_(C),d=w(()=>r.value.length===0?t.categories:t.categories.filter(p=>r.value.includes(p.name)));k(()=>{console.log("onMounted"),A()});const m=w(()=>{let p=[];return d.value.forEach(o=>{const c=t.resources.filter(h=>h.data.category===o.name);if(c.length>0){let h=!1;c.forEach(y=>{h?p.push({categoryName:"",resource:y}):(p.push({categoryName:o.name,resource:y}),h=!0)})}}),p.sort((o,c)=>{switch(i.value){case"category-asc":return o.categoryName.localeCompare(c.categoryName);case"category-desc":return c.categoryName.localeCompare(o.categoryName);case"a-z":return o.resource.data.title.localeCompare(c.resource.data.title);case"z-a":return c.resource.data.title.localeCompare(o.resource.data.title);case"new-old":const h=c.resource.data.date?new Date(c.resource.data.date).getTime():0,y=o.resource.data.date?new Date(o.resource.data.date).getTime():0;return h-y;case"old-new":const R=c.resource.data.date?new Date(c.resource.data.date).getTime():0;return(o.resource.data.date?new Date(o.resource.data.date).getTime():0)-R}}),p=p.filter(o=>{if(e.value==="")return!0;const c=e.value.toLowerCase(),h=o.resource.data.title.toLowerCase(),y=(o.resource.data.excerpt||"").toLowerCase();return h.includes(c)||y.includes(c)}),p=p.filter(o=>n.value.length===0?!0:n.value.every(c=>c==="free"?o.resource.data.pricing==="free":c==="freemium"?o.resource.data.pricing==="freemium":o.resource.data.tags.includes(c))),p}),g={props:t,$selectedCategories:r,$sortBy:i,$selectedTags:n,$searchQuery:e,filteredCategories:d,resources:m,computed:w,onMounted:k,ResourceCard:se,get useStore(){return _},get selectedCategories(){return F},get sortBy(){return S},get selectedTags(){return M},get searchQuery(){return C},InnerNav:pe,get applyUrlParamsToStore(){return A}};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}},fe={class:"w-full h-full overflow-y-auto bg-background"},he={class:"grid auto-fit-grid gap-4 px-6 pt-2 pb-6"},_e={key:0,class:"text-copy text-center text-sm mt-10"};function me(f,a,t,r,i,n){return l(),u("div",fe,[E(r.InnerNav,{tags:t.tags,class:"bg-background z-10"},null,8,["tags"]),s("div",he,[(l(!0),u(x,null,b(r.resources,e=>(l(),P(r.ResourceCard,{key:e.resource?.slug||e.categoryName,resource:e.resource},null,8,["resource"]))),128)),r.resources.length===0?(l(),u("span",_e,"No resources found")):I("",!0)])])}const Se=L(ge,[["render",me]]);export{Se as default};
