import{v as $}from"./runtime-dom.esm-bundler.DccEXto2.js";import{_ as B}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{c as u,o as n,A as T,a as s,t as y,F as x,r as b,w as L,v as z,B as w,x as N,z as D,y as j,C as F}from"./runtime-core.esm-bundler.6HMxXPH1.js";import{u as _,a as k,b as C,i as S,r as I,s as A,c as O}from"./store.6BmSHIDg.js";/* empty css                       */const M={__name:"ResourceCard",props:["resource"],setup(g,{expose:a}){a();const t=g;console.log(t.resource);const r=e=>{let l=e.replace("https://","").replace("http://","").replace("www.","");return l=l.replace(/\/$/,""),l.length>30?l.slice(0,30)+"...":l},p=w(()=>{let e=[];return t.resource.data.url&&e.push({text:r(t.resource.data.url),type:"url"}),t.resource.data.pricing&&e.push({text:t.resource.data.pricing,type:"pricing"}),t.resource.data.cost&&e.push({text:t.resource.data.cost,type:"cost"}),[...t.resource.data.tags].sort().forEach((h,m)=>{h&&e.push({text:h,type:"tag",index:m})}),e}),d={props:t,simpleUrl:r,tags:p,computed:w};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}},R={class:"relative"},E={key:0,class:"bg-background border border-secondary shadow-md rounded-md overflow-hidden h-full"},Z=["href"],P=["src","alt"],V={class:"flex gap-2 flex-col p-4"},U={class:"text-lg font-bold text-copy"},q={class:"overflow-x-auto scrollbar-hide"},G={class:"flex flex-col gap-1"},H={class:"flex gap-1"},J={class:"flex gap-1"},K={class:"text-sm overflow-hidden text-ellipsis line-clamp-4 text-copy"};function W(g,a,t,r,p,d){return n(),u("div",R,[t.resource?(n(),u("div",E,[s("a",{href:"/resources/"+t.resource.slug},[s("img",{src:t.resource.data.image,alt:t.resource.data.title,class:"w-full aspect-video object-cover shadow-md"},null,8,P)],8,Z),s("div",V,[s("h2",U,y(t.resource.data.title),1),s("div",q,[s("div",G,[s("div",H,[(n(!0),u(x,null,b(r.tags,(e,l)=>L((n(),u("span",{key:e.text,class:z(`inline-flex w-fit tag ${e.type} whitespace-nowrap`)},y(e.text),3)),[[$,l%2===0]])),128))]),s("div",J,[(n(!0),u(x,null,b(r.tags,(e,l)=>L((n(),u("span",{key:e.text,class:z(`inline-flex w-fit tag ${e.type} whitespace-nowrap`)},y(e.text),3)),[[$,l%2===1]])),128))])])]),s("p",K,y(t.resource.data.excerpt),1)])])):T("",!0)])}const X=B(M,[["render",W]]),Y={__name:"InnerNav",props:["tags"],setup(g,{expose:a}){a();const t=_(k),r=_(C),p=N(null),d=g,e=N([{value:"category-asc",label:"Category (A-Z)"},{value:"category-desc",label:"Category (Z-A)"},{value:"new-old",label:"Date (Newest)"},{value:"old-new",label:"Date (Oldest)"},{value:"a-z",label:"Name (A-Z)"},{value:"z-a",label:"Name (Z-A)"}]),l=()=>{console.log("toggleSidebar"),S.set(!S.get())};D(()=>{window.addEventListener("keydown",m=>{m.key==="/"&&(m.preventDefault(),p.value.focus())})});const h={$searchQuery:t,$sortBy:r,searchInput:p,props:d,sortOptions:e,toggleSidebar:l,ref:N,onMounted:D,get resetFilters(){return I},get searchQuery(){return k},get sortBy(){return C},get useStore(){return _},get isSidebarOpen(){return S}};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}},ee={class:"flex gap-2 justify-between items-center w-full py-1 px-2"},te={class:"flex items-center gap-2"},re={class:"flex items-center gap-2 flex-shrink-0"},se=["value"],ae=["value"],oe=["value"];function ce(g,a,t,r,p,d){return n(),u("div",ee,[s("div",te,[s("button",{class:"cursor-pointer lg:hidden",onClick:r.toggleSidebar},a[3]||(a[3]=[s("svg",{class:"flex-shrink-0 w-7 h-7 text-copy stroke-secondary",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 6h16M4 12h16M4 18h16"})],-1)])),s("div",{onClick:a[0]||(a[0]=(...e)=>r.resetFilters&&r.resetFilters(...e)),class:"h-full aspect-square p-2 cursor-pointer"},a[4]||(a[4]=[s("svg",{class:"fill-secondary w-6 h-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[s("path",{d:"M105.1 202.6c7.7-21.8 20.2-42.3 37.8-59.8c62.5-62.5 163.8-62.5 226.3 0L386.3 160 352 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l111.5 0c0 0 0 0 0 0l.4 0c17.7 0 32-14.3 32-32l0-112c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 35.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5zM39 289.3c-5 1.5-9.8 4.2-13.7 8.2c-4 4-6.7 8.8-8.1 14c-.3 1.2-.6 2.5-.8 3.8c-.3 1.7-.4 3.4-.4 5.1L16 432c0 17.7 14.3 32 32 32s32-14.3 32-32l0-35.1 17.6 17.5c0 0 0 0 0 0c87.5 87.4 229.3 87.4 316.7 0c24.4-24.4 42.1-53.1 52.9-83.8c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.5 62.5-163.8 62.5-226.3 0l-.1-.1L125.6 352l34.4 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L48.4 288c-1.6 0-3.2 .1-4.8 .3s-3.1 .5-4.6 1z"})],-1)]))]),s("div",re,[s("select",{class:"bg-background h-full text-copy border-2 border-primary rounded-md p-2",value:r.$sortBy,onChange:a[1]||(a[1]=e=>r.sortBy.set(e.target.value))},[(n(!0),u(x,null,b(r.sortOptions,e=>(n(),u("option",{key:e.value,value:e.value},y(e.label),9,ae))),128))],40,se),s("input",{ref:"searchInput",type:"text",value:r.$searchQuery,onInput:a[2]||(a[2]=e=>{r.searchQuery.set(e.target.value)}),class:"bg-background h-full min-w-20 w-full max-w-30 text-copy border-2 border-primary rounded-md p-2",placeholder:"Search '/'"},null,40,oe)])])}const le=B(Y,[["render",ce]]),ne={__name:"ResourceList",props:["resources","categories","tags"],setup(g,{expose:a}){a();const t=g,r=_(O),p=_(C),d=_(A),e=_(k),l=w(()=>r.value.length===0?t.categories:t.categories.filter(i=>r.value.includes(i.name))),h=w(()=>{let i=[];return l.value.forEach(o=>{const c=t.resources.filter(f=>f.data.category===o.name);if(c.length>0){let f=!1;c.forEach(v=>{f?i.push({categoryName:"",resource:v}):(i.push({categoryName:o.name,resource:v}),f=!0)})}}),i.sort((o,c)=>{switch(p.value){case"category-asc":return o.categoryName.localeCompare(c.categoryName);case"category-desc":return c.categoryName.localeCompare(o.categoryName);case"a-z":return o.resource.data.title.localeCompare(c.resource.data.title);case"z-a":return c.resource.data.title.localeCompare(o.resource.data.title);case"new-old":const f=c.resource.data.date?new Date(c.resource.data.date).getTime():0,v=o.resource.data.date?new Date(o.resource.data.date).getTime():0;return f-v;case"old-new":const Q=c.resource.data.date?new Date(c.resource.data.date).getTime():0;return(o.resource.data.date?new Date(o.resource.data.date).getTime():0)-Q}}),i=i.filter(o=>{if(e.value==="")return!0;const c=e.value.toLowerCase(),f=o.resource.data.title.toLowerCase(),v=(o.resource.data.excerpt||"").toLowerCase();return f.includes(c)||v.includes(c)}),i=i.filter(o=>d.value.length===0?!0:d.value.every(c=>c==="free"?o.resource.data.pricing==="free":c==="freemium"?o.resource.data.pricing==="freemium":o.resource.data.tags.includes(c))),console.log("result",i),i}),m={props:t,$selectedCategories:r,$sortBy:p,$selectedTags:d,$searchQuery:e,filteredCategories:l,resources:h,computed:w,ResourceCard:X,get useStore(){return _},get selectedCategories(){return O},get sortBy(){return C},get selectedTags(){return A},get searchQuery(){return k},InnerNav:le};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}},ue={class:"w-full h-full overflow-y-auto bg-background"},de={class:"grid auto-fit-grid gap-4 px-6 pt-2 pb-6"},ie={key:0,class:"text-copy text-center text-sm mt-10"};function pe(g,a,t,r,p,d){return n(),u("div",ue,[j(r.InnerNav,{tags:t.tags,class:"bg-background z-10"},null,8,["tags"]),s("div",de,[(n(!0),u(x,null,b(r.resources,e=>(n(),F(r.ResourceCard,{key:e.resource?.slug||e.categoryName,resource:e.resource},null,8,["resource"]))),128)),r.resources.length===0?(n(),u("span",ie,"No resources found")):T("",!0)])])}const ye=B(ne,[["render",pe]]);export{ye as default};
