import{v as $}from"./runtime-dom.esm-bundler.Bhl07C4L.js";import{s as L}from"./utils.-yB8Vte5.js";import{_ as B}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{c as u,f as l,b as Q,a as s,t as v,F as w,r as b,z,n as D,B as x,e as N,o as A,A as F,C as I}from"./runtime-core.esm-bundler.XJS3sD7x.js";import{u as _,a as k,b as C,i as S,r as M,s as O,c as T}from"./store.BHeNoMMI.js";/* empty css                       */const R={__name:"ResourceCard",props:["resource"],setup(g,{expose:a}){a();const t=g;console.log(t.resource);const r=x(()=>{let n=[];return t.resource.data.url&&n.push({text:L(t.resource.data.url),type:"url"}),t.resource.data.pricing&&n.push({text:t.resource.data.pricing,type:"pricing"}),t.resource.data.cost&&n.push({text:t.resource.data.cost,type:"cost"}),[...t.resource.data.tags].sort().forEach((d,h)=>{d&&n.push({text:d,type:"tag",index:h})}),n}),i={props:t,tags:r,computed:x,get simpleUrl(){return L}};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}},E={class:"relative"},Z={key:0,class:"bg-background/85 border border-secondary shadow-md rounded-md overflow-hidden h-full"},P=["href"],V=["src","alt"],U={class:"flex gap-2 flex-col p-4"},q={class:"text-lg font-bold text-copy"},G={class:"overflow-x-auto scrollbar-hide"},H={class:"flex flex-col gap-1"},J={class:"flex gap-1"},K={class:"flex gap-1"},W={class:"text-sm overflow-hidden text-ellipsis line-clamp-4 text-copy"};function X(g,a,t,r,i,n){return l(),u("div",E,[t.resource?(l(),u("div",Z,[s("a",{href:"/resources/"+t.resource.slug},[s("img",{src:t.resource.data.images[0],alt:t.resource.data.title,class:"w-full aspect-video object-cover shadow-md"},null,8,V)],8,P),s("div",U,[s("h2",q,v(t.resource.data.title),1),s("div",G,[s("div",H,[s("div",J,[(l(!0),u(w,null,b(r.tags,(e,d)=>z((l(),u("span",{key:e.text,class:D(`inline-flex w-fit tag ${e.type} whitespace-nowrap`)},v(e.text),3)),[[$,d%2===0]])),128))]),s("div",K,[(l(!0),u(w,null,b(r.tags,(e,d)=>z((l(),u("span",{key:e.text,class:D(`inline-flex w-fit tag ${e.type} whitespace-nowrap`)},v(e.text),3)),[[$,d%2===1]])),128))])])]),s("p",W,v(t.resource.data.excerpt),1)])])):Q("",!0)])}const Y=B(R,[["render",X]]),ee={__name:"InnerNav",props:["tags"],setup(g,{expose:a}){a();const t=_(k),r=_(C),i=N(null),n=g,e=N([{value:"category-asc",label:"Category (A-Z)"},{value:"category-desc",label:"Category (Z-A)"},{value:"new-old",label:"Date (Newest)"},{value:"old-new",label:"Date (Oldest)"},{value:"a-z",label:"Name (A-Z)"},{value:"z-a",label:"Name (Z-A)"}]),d=()=>{console.log("toggleSidebar"),S.set(!S.get())};A(()=>{window.addEventListener("keydown",y=>{y.key==="/"&&(y.preventDefault(),i.value.focus())})});const h={$searchQuery:t,$sortBy:r,searchInput:i,props:n,sortOptions:e,toggleSidebar:d,ref:N,onMounted:A,get resetFilters(){return M},get searchQuery(){return k},get sortBy(){return C},get useStore(){return _},get isSidebarOpen(){return S}};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}},te={class:"flex gap-2 justify-between items-center w-full py-1 px-2"},re={class:"flex items-center gap-2"},se={class:"flex items-center gap-2 flex-shrink-0"},ae=["value"],oe=["value"],ce=["value"];function ne(g,a,t,r,i,n){return l(),u("div",te,[s("div",re,[s("button",{class:"cursor-pointer lg:hidden",onClick:r.toggleSidebar},a[3]||(a[3]=[s("svg",{class:"flex-shrink-0 w-7 h-7 text-copy stroke-secondary",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 6h16M4 12h16M4 18h16"})],-1)])),s("div",{onClick:a[0]||(a[0]=(...e)=>r.resetFilters&&r.resetFilters(...e)),class:"h-full aspect-square p-2 cursor-pointer"},a[4]||(a[4]=[s("svg",{class:"fill-secondary w-6 h-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[s("path",{d:"M105.1 202.6c7.7-21.8 20.2-42.3 37.8-59.8c62.5-62.5 163.8-62.5 226.3 0L386.3 160 352 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l111.5 0c0 0 0 0 0 0l.4 0c17.7 0 32-14.3 32-32l0-112c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 35.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5zM39 289.3c-5 1.5-9.8 4.2-13.7 8.2c-4 4-6.7 8.8-8.1 14c-.3 1.2-.6 2.5-.8 3.8c-.3 1.7-.4 3.4-.4 5.1L16 432c0 17.7 14.3 32 32 32s32-14.3 32-32l0-35.1 17.6 17.5c0 0 0 0 0 0c87.5 87.4 229.3 87.4 316.7 0c24.4-24.4 42.1-53.1 52.9-83.8c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.5 62.5-163.8 62.5-226.3 0l-.1-.1L125.6 352l34.4 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L48.4 288c-1.6 0-3.2 .1-4.8 .3s-3.1 .5-4.6 1z"})],-1)]))]),s("div",se,[s("select",{class:"bg-background h-full text-copy border-2 border-primary rounded-md p-2 appearance-none",value:r.$sortBy,onChange:a[1]||(a[1]=e=>r.sortBy.set(e.target.value)),style:{height:"100%","-webkit-appearance":"none"}},[(l(!0),u(w,null,b(r.sortOptions,e=>(l(),u("option",{key:e.value,value:e.value},v(e.label),9,oe))),128))],40,ae),s("input",{ref:"searchInput",type:"text",value:r.$searchQuery,onInput:a[2]||(a[2]=e=>{r.searchQuery.set(e.target.value)}),class:"bg-background h-full min-w-20 w-full max-w-30 text-copy border-2 border-primary rounded-md p-2 appearance-none",placeholder:"Search '/'"},null,40,ce)])])}const le=B(ee,[["render",ne]]),ue={__name:"ResourceList",props:["resources","categories","tags"],setup(g,{expose:a}){a();const t=g,r=_(T),i=_(C),n=_(O),e=_(k),d=x(()=>r.value.length===0?t.categories:t.categories.filter(p=>r.value.includes(p.name))),h=x(()=>{let p=[];return d.value.forEach(o=>{const c=t.resources.filter(f=>f.data.category===o.name);if(c.length>0){let f=!1;c.forEach(m=>{f?p.push({categoryName:"",resource:m}):(p.push({categoryName:o.name,resource:m}),f=!0)})}}),p.sort((o,c)=>{switch(i.value){case"category-asc":return o.categoryName.localeCompare(c.categoryName);case"category-desc":return c.categoryName.localeCompare(o.categoryName);case"a-z":return o.resource.data.title.localeCompare(c.resource.data.title);case"z-a":return c.resource.data.title.localeCompare(o.resource.data.title);case"new-old":const f=c.resource.data.date?new Date(c.resource.data.date).getTime():0,m=o.resource.data.date?new Date(o.resource.data.date).getTime():0;return f-m;case"old-new":const j=c.resource.data.date?new Date(c.resource.data.date).getTime():0;return(o.resource.data.date?new Date(o.resource.data.date).getTime():0)-j}}),p=p.filter(o=>{if(e.value==="")return!0;const c=e.value.toLowerCase(),f=o.resource.data.title.toLowerCase(),m=(o.resource.data.excerpt||"").toLowerCase();return f.includes(c)||m.includes(c)}),p=p.filter(o=>n.value.length===0?!0:n.value.every(c=>c==="free"?o.resource.data.pricing==="free":c==="freemium"?o.resource.data.pricing==="freemium":o.resource.data.tags.includes(c))),console.log("result",p),p}),y={props:t,$selectedCategories:r,$sortBy:i,$selectedTags:n,$searchQuery:e,filteredCategories:d,resources:h,computed:x,ResourceCard:Y,get useStore(){return _},get selectedCategories(){return T},get sortBy(){return C},get selectedTags(){return O},get searchQuery(){return k},InnerNav:le};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}},ie={class:"w-full h-full overflow-y-auto bg-background"},de={class:"grid auto-fit-grid gap-4 px-6 pt-2 pb-6"},pe={key:0,class:"text-copy text-center text-sm mt-10"};function ge(g,a,t,r,i,n){return l(),u("div",ie,[F(r.InnerNav,{tags:t.tags,class:"bg-background z-10"},null,8,["tags"]),s("div",de,[(l(!0),u(w,null,b(r.resources,e=>(l(),I(r.ResourceCard,{key:e.resource?.slug||e.categoryName,resource:e.resource},null,8,["resource"]))),128)),r.resources.length===0?(l(),u("span",pe,"No resources found")):Q("",!0)])])}const we=B(ue,[["render",ge]]);export{we as default};
